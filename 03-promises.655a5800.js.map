{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAGMC,EAAWC,SAASC,cAAc,QAClCC,EAAaF,SAASC,cAAc,uBACpCE,EAAYH,SAASC,cAAc,sBACnCG,EAAcJ,SAASC,cAAc,wBACrCI,EAAeL,SAASC,cAAc,UAE5CI,EAAaC,UAAW,EAExBP,EAASQ,iBAAiB,SAAS,SAAAC,GACjCC,aAAaC,QAAQ,WAAYR,EAAWS,OAC5CF,aAAaC,QAAQ,QAASP,EAAUQ,OACxCF,aAAaC,QAAQ,SAAUN,EAAYO,OAErB,KAApBR,EAAUQ,OACS,IAAnBR,EAAUQ,OACW,IAArBP,EAAYO,MAEZN,EAAaC,UAAW,EAExBD,EAAaC,UAAW,C,IAqB5BD,EAAaE,iBAAiB,SAE9B,SAAkBC,GAChBA,EAAMI,iBAEN,IAAIC,EAAWJ,aAAaK,QAAQ,YAChCC,EAAQN,aAAaK,QAAQ,SAC7BE,EAASP,aAAaK,QAAQ,UAE9BG,EAAI,EACRC,YAAW,WACTC,aAAY,YACVF,GAAK,IAEID,GA/Bf,SAAuBH,EAAUE,GAC/B,OAAO,IAAIK,SAAQ,SAACC,EAASC,GACLC,KAAKC,SAAW,GAEpCH,EACEI,EAAA5B,GAAS6B,OAAOC,QACd,uBAAwCC,OAAff,EAAS,QAAYe,OAANb,EAAM,QAIlDO,EACEG,EAAA5B,GAAS6B,OAAOG,QAAQ,sBAAqCD,OAAff,EAAS,QAAYe,OAANb,EAAM,O,IAqBnEe,CAAcjB,EAAUE,GACrBgB,MAAK,SAAClB,EAAUE,GAAU,IAC1BiB,OAAM,SAACnB,EAAUE,GAAU,G,GAE/BA,E,GACFF,GACHR,EAAaC,UAAW,EACxBG,aAAawB,QACblC,EAASmC,O","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n// import throttle from 'lodash.throttle';\n\nconst formForm = document.querySelector('form');\nconst inputDelay = document.querySelector('input[name=\"delay\"]');\nconst inputStep = document.querySelector('input[name=\"step\"]');\nconst inputAmount = document.querySelector('input[name=\"amount\"]');\nconst submitButton = document.querySelector('button');\n\nsubmitButton.disabled = true;\n\nformForm.addEventListener('input', event => {\n  localStorage.setItem('position', inputDelay.value);\n  localStorage.setItem('delay', inputStep.value);\n  localStorage.setItem('amount', inputAmount.value);\n  if (\n    inputStep.value === '' ||\n    inputStep.value == '' ||\n    inputAmount.value == ''\n  ) {\n    submitButton.disabled = true;\n  } else {\n    submitButton.disabled = false;\n  }\n});\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      resolve(\n        Notiflix.Notify.success(\n          `✅ Fulfilled promise ${position} in ${delay}ms`\n        )\n      );\n    } else {\n      reject(\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`)\n      );\n    }\n  });\n}\n\nsubmitButton.addEventListener('click', subEvent);\n\nfunction subEvent(event) {\n  event.preventDefault();\n\n  let position = localStorage.getItem('position');\n  let delay = localStorage.getItem('delay');\n  let amount = localStorage.getItem('amount');\n\n  let a = 0;\n  setTimeout(() => {\n    setInterval(() => {\n      a += 1;\n\n      if (a <= amount) {\n        createPromise(position, delay)\n          .then((position, delay) => {})\n          .catch((position, delay) => {});\n      }\n    }, delay);\n  }, position);\n  submitButton.disabled = true;\n  localStorage.clear();\n  formForm.reset();\n}\n"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$formForm","document","querySelector","$ce04d3a99e08e73b$var$inputDelay","$ce04d3a99e08e73b$var$inputStep","$ce04d3a99e08e73b$var$inputAmount","$ce04d3a99e08e73b$var$submitButton","disabled","addEventListener","event","localStorage","setItem","value","preventDefault","position","getItem","delay","amount","a","setTimeout","setInterval","Promise","resolve","reject","Math","random","$parcel$interopDefault","Notify","success","concat","failure","$ce04d3a99e08e73b$var$createPromise","then","catch","clear","reset"],"version":3,"file":"03-promises.655a5800.js.map"}